{"version":3,"file":"filter-zoom-blur.mjs","sources":["../src/ZoomBlurFilter.ts"],"sourcesContent":["import { vertex } from '@tools/fragments';\nimport fragment from './zoom-blur.frag';\nimport { Filter, Point } from '@pixi/core';\n\ntype PointLike = Point | number[];\n\ninterface ZoomBlurFilterOptions\n{\n    strength: number;\n    center: PointLike;\n    innerRadius: number;\n    radius: number;\n    maxKernelSize: number;\n}\n\n/**\n * The ZoomFilter applies a Zoom blur to an object.<br>\n * ![original](../tools/screenshots/dist/original.png)![filter](../tools/screenshots/dist/zoom-blur.png)\n *\n * @class\n * @extends PIXI.Filter\n * @see {@link https://www.npmjs.com/package/@pixi/filter-zoom-blur|@pixi/filter-zoom-blur}\n * @see {@link https://www.npmjs.com/package/pixi-filters|pixi-filters}\n */\nclass ZoomBlurFilter extends Filter\n{\n    /** Default constructor options. */\n    public static readonly defaults: ZoomBlurFilterOptions = {\n        strength: 0.1,\n        center: [0, 0],\n        innerRadius: 0,\n        radius: -1,\n        maxKernelSize: 32,\n    };\n\n    /**\n     * @param {object} [options] - Filter options to use.\n     * @param {number} [options.strength=0.1] - Sets the strength of the zoom blur effect\n     * @param {PIXI.Point|number[]} [options.center=[0,0]] - The center of the zoom.\n     * @param {number} [options.innerRadius=0] - The inner radius of zoom. The part in inner circle won't apply\n     *        zoom blur effect.\n     * @param {number} [options.radius=-1] - See `radius` property.\n     * @param {number} [options.maxKernelSize=32] - On older iOS devices, it's better to not go above `13.0`.\n     *        Decreasing this value will produce a lower-quality blur effect with more dithering.\n     */\n    constructor(options?: Partial<ZoomBlurFilterOptions>)\n    {\n        const { maxKernelSize, ...rest }: ZoomBlurFilterOptions = Object.assign(ZoomBlurFilter.defaults, options);\n\n        super(vertex, fragment.replace('${maxKernelSize}', maxKernelSize.toFixed(1)));\n\n        Object.assign(this, rest);\n    }\n\n    /**\n     * Center of the effect.\n     *\n     * @member {PIXI.Point|number[]}\n     * @default [0, 0]\n     */\n    get center(): PointLike\n    {\n        return this.uniforms.uCenter;\n    }\n    set center(value: PointLike)\n    {\n        this.uniforms.uCenter = value;\n    }\n\n    /**\n     * Intensity of the zoom effect.\n     * @default 0.1\n     */\n    get strength(): number\n    {\n        return this.uniforms.uStrength;\n    }\n    set strength(value: number)\n    {\n        this.uniforms.uStrength = value;\n    }\n\n    /**\n     * Radius of the inner region not effected by blur.\n     * @default 0\n     */\n    get innerRadius(): number\n    {\n        return this.uniforms.uInnerRadius;\n    }\n    set innerRadius(value: number)\n    {\n        this.uniforms.uInnerRadius = value;\n    }\n\n    /**\n     * Outer radius of the effect. The default value is `-1`.\n     * `< 0.0` means it's infinity.\n     * @default -1\n     */\n    get radius(): number\n    {\n        return this.uniforms.uRadius;\n    }\n    set radius(value: number)\n    {\n        if (value < 0 || value === Infinity)\n        {\n            value = -1;\n        }\n        this.uniforms.uRadius = value;\n    }\n}\n\nexport { ZoomBlurFilter };\nexport type { ZoomBlurFilterOptions };\n"],"names":["o","a","d","m","t","e","n","r","_ZoomBlurFilter","Filter","options","_a","maxKernelSize","rest","__objRest","vertex","fragment","value","ZoomBlurFilter"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAAA,EAAA,OAAA,sBAAAC,EAAA,OAAA,UAAA,eAAAC,EAAA,OAAA,UAAA,qBAAAC,EAAA,CAAAC,EAAAC,IAAA,CAAA,IAAAC,EAAA,GAAA,QAAAC,KAAAH,EAAAH,EAAA,KAAAG,EAAAG,CAAA,GAAAF,EAAA,QAAAE,CAAA,EAAA,IAAAD,EAAAC,GAAAH,EAAAG,IAAA,GAAAH,GAAA,MAAAJ,EAAA,QAAAO,KAAAP,EAAAI,CAAA,EAAAC,EAAA,QAAAE,CAAA,EAAA,GAAAL,EAAA,KAAAE,EAAAG,CAAA,IAAAD,EAAAC,GAAAH,EAAAG,IAAA,OAAAD,CAAA,EAwBA,MAAME,EAAN,cAA6BC,CAC7B,CAoBI,YAAYC,EACZ,CACI,MAA0DC,EAAA,OAAO,OAAOH,EAAe,SAAUE,CAAO,EAAhG,CAAAE,cAAAA,CA/ChB,EA+CkED,EAAhCE,EAAAC,EAAgCH,EAAhC,CAAlB,eAER,CAAA,EAAA,MAAMI,EAAQC,EAAS,QAAQ,mBAAoBJ,EAAc,QAAQ,CAAC,CAAC,CAAC,EAE5E,OAAO,OAAO,KAAMC,CAAI,CAC5B,CAQA,IAAI,QACJ,CACI,OAAO,KAAK,SAAS,OACzB,CACA,IAAI,OAAOI,EACX,CACI,KAAK,SAAS,QAAUA,CAC5B,CAMA,IAAI,UACJ,CACI,OAAO,KAAK,SAAS,SACzB,CACA,IAAI,SAASA,EACb,CACI,KAAK,SAAS,UAAYA,CAC9B,CAMA,IAAI,aACJ,CACI,OAAO,KAAK,SAAS,YACzB,CACA,IAAI,YAAYA,EAChB,CACI,KAAK,SAAS,aAAeA,CACjC,CAOA,IAAI,QACJ,CACI,OAAO,KAAK,SAAS,OACzB,CACA,IAAI,OAAOA,EACX,EACQA,EAAQ,GAAKA,IAAU,OAEvBA,EAAQ,IAEZ,KAAK,SAAS,QAAUA,CAC5B,CACJ,EAxFA,IAAMC,EAANV,EAAMU,EAGqB,SAAkC,CACrD,SAAU,GACV,OAAQ,CAAC,EAAG,CAAC,EACb,YAAa,EACb,OAAQ,GACR,cAAe,EACnB"}