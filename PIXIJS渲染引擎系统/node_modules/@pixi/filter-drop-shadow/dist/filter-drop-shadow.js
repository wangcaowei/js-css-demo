"use strict";/*!
 * @pixi/filter-drop-shadow - v5.2.0
 * Compiled Tue, 28 Feb 2023 14:24:35 UTC
 *
 * @pixi/filter-drop-shadow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Object.defineProperty(exports,"__esModule",{value:!0});var h=require("@pixi/filter-kawase-blur"),r=require("@pixi/core"),y=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,m=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`,x=Object.defineProperty,p=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,d=(t,e,i)=>e in t?x(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,f=(t,e)=>{for(var i in e||(e={}))w.call(e,i)&&d(t,i,e[i]);if(p)for(var i of p(e))S.call(e,i)&&d(t,i,e[i]);return t};const n=class extends r.Filter{constructor(t){super(),this.angle=45,this._distance=5,this._resolution=r.settings.FILTER_RESOLUTION;const e=t?f(f({},n.defaults),t):n.defaults,{kernels:i,blur:l,quality:s,pixelSize:_,resolution:o}=e;this._offset=new r.ObservablePoint(this._updatePadding,this),this._tintFilter=new r.Filter(y,m),this._tintFilter.uniforms.color=new Float32Array(4),this._tintFilter.uniforms.shift=this._offset,this._tintFilter.resolution=o,this._blurFilter=i?new h.KawaseBlurFilter(i):new h.KawaseBlurFilter(l,s),this.pixelSize=_,this.resolution=o;const{shadowOnly:b,rotation:a,distance:u,offset:F,alpha:g,color:v}=e;this.shadowOnly=b,a!==void 0&&u!==void 0?(this.rotation=a,this.distance=u):this.offset=F,this.alpha=g,this.color=v}apply(t,e,i,l){const s=t.getFilterTexture();this._tintFilter.apply(t,e,s,1),this._blurFilter.apply(t,s,i,l),this.shadowOnly!==!0&&t.applyFilter(this,e,i,0),t.returnFilterTexture(s)}_updatePadding(){const t=Math.max(Math.abs(this._offset.x),Math.abs(this._offset.y));this.padding=t+this.blur*2}_updateShift(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))}set offset(t){this._offset.copyFrom(t),this._updatePadding()}get offset(){return this._offset}get resolution(){return this._resolution}set resolution(t){this._resolution=t,this._tintFilter&&(this._tintFilter.resolution=t),this._blurFilter&&(this._blurFilter.resolution=t)}get distance(){return this._distance}set distance(t){r.utils.deprecation("5.3.0","DropShadowFilter distance is deprecated, use offset"),this._distance=t,this._updatePadding(),this._updateShift()}get rotation(){return this.angle/r.DEG_TO_RAD}set rotation(t){r.utils.deprecation("5.3.0","DropShadowFilter rotation is deprecated, use offset"),this.angle=t*r.DEG_TO_RAD,this._updateShift()}get alpha(){return this._tintFilter.uniforms.alpha}set alpha(t){this._tintFilter.uniforms.alpha=t}get color(){return r.utils.rgb2hex(this._tintFilter.uniforms.color)}set color(t){r.utils.hex2rgb(t,this._tintFilter.uniforms.color)}get kernels(){return this._blurFilter.kernels}set kernels(t){this._blurFilter.kernels=t}get blur(){return this._blurFilter.blur}set blur(t){this._blurFilter.blur=t,this._updatePadding()}get quality(){return this._blurFilter.quality}set quality(t){this._blurFilter.quality=t}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(t){this._blurFilter.pixelSize=t}};let c=n;c.defaults={offset:{x:4,y:4},color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:r.settings.FILTER_RESOLUTION},exports.DropShadowFilter=c;
//# sourceMappingURL=filter-drop-shadow.js.map
