{"version":3,"file":"filter-color-gradient.js","sources":["../../../node_modules/gradient-parser/build/node.js","../../../node_modules/color-name/index.js","../../../node_modules/color-parse/index.mjs","../../../node_modules/color-space/rgb.js","../../../node_modules/color-space/hsl.js","../../../node_modules/color-rgba/index.mjs","../src/utils.ts","../src/CssGradientParser.ts","../src/ColorGradientFilter.ts"],"sourcesContent":["// Copyright (c) 2014 Rafael Caricio. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nvar GradientParser = (GradientParser || {});\n\nGradientParser.stringify = (function() {\n\n  var visitor = {\n\n    'visit_linear-gradient': function(node) {\n      return visitor.visit_gradient(node);\n    },\n\n    'visit_repeating-linear-gradient': function(node) {\n      return visitor.visit_gradient(node);\n    },\n\n    'visit_radial-gradient': function(node) {\n      return visitor.visit_gradient(node);\n    },\n\n    'visit_repeating-radial-gradient': function(node) {\n      return visitor.visit_gradient(node);\n    },\n\n    'visit_gradient': function(node) {\n      var orientation = visitor.visit(node.orientation);\n      if (orientation) {\n        orientation += ', ';\n      }\n\n      return node.type + '(' + orientation + visitor.visit(node.colorStops) + ')';\n    },\n\n    'visit_shape': function(node) {\n      var result = node.value,\n          at = visitor.visit(node.at),\n          style = visitor.visit(node.style);\n\n      if (style) {\n        result += ' ' + style;\n      }\n\n      if (at) {\n        result += ' at ' + at;\n      }\n\n      return result;\n    },\n\n    'visit_default-radial': function(node) {\n      var result = '',\n          at = visitor.visit(node.at);\n\n      if (at) {\n        result += at;\n      }\n      return result;\n    },\n\n    'visit_extent-keyword': function(node) {\n      var result = node.value,\n          at = visitor.visit(node.at);\n\n      if (at) {\n        result += ' at ' + at;\n      }\n\n      return result;\n    },\n\n    'visit_position-keyword': function(node) {\n      return node.value;\n    },\n\n    'visit_position': function(node) {\n      return visitor.visit(node.value.x) + ' ' + visitor.visit(node.value.y);\n    },\n\n    'visit_%': function(node) {\n      return node.value + '%';\n    },\n\n    'visit_em': function(node) {\n      return node.value + 'em';\n    },\n\n    'visit_px': function(node) {\n      return node.value + 'px';\n    },\n\n    'visit_literal': function(node) {\n      return visitor.visit_color(node.value, node);\n    },\n\n    'visit_hex': function(node) {\n      return visitor.visit_color('#' + node.value, node);\n    },\n\n    'visit_rgb': function(node) {\n      return visitor.visit_color('rgb(' + node.value.join(', ') + ')', node);\n    },\n\n    'visit_rgba': function(node) {\n      return visitor.visit_color('rgba(' + node.value.join(', ') + ')', node);\n    },\n\n    'visit_color': function(resultColor, node) {\n      var result = resultColor,\n          length = visitor.visit(node.length);\n\n      if (length) {\n        result += ' ' + length;\n      }\n      return result;\n    },\n\n    'visit_angular': function(node) {\n      return node.value + 'deg';\n    },\n\n    'visit_directional': function(node) {\n      return 'to ' + node.value;\n    },\n\n    'visit_array': function(elements) {\n      var result = '',\n          size = elements.length;\n\n      elements.forEach(function(element, i) {\n        result += visitor.visit(element);\n        if (i < size - 1) {\n          result += ', ';\n        }\n      });\n\n      return result;\n    },\n\n    'visit': function(element) {\n      if (!element) {\n        return '';\n      }\n      var result = '';\n\n      if (element instanceof Array) {\n        return visitor.visit_array(element, result);\n      } else if (element.type) {\n        var nodeVisitor = visitor['visit_' + element.type];\n        if (nodeVisitor) {\n          return nodeVisitor(element);\n        } else {\n          throw Error('Missing visitor visit_' + element.type);\n        }\n      } else {\n        throw Error('Invalid node.');\n      }\n    }\n\n  };\n\n  return function(root) {\n    return visitor.visit(root);\n  };\n})();\n\n// Copyright (c) 2014 Rafael Caricio. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nvar GradientParser = (GradientParser || {});\n\nGradientParser.parse = (function() {\n\n  var tokens = {\n    linearGradient: /^(\\-(webkit|o|ms|moz)\\-)?(linear\\-gradient)/i,\n    repeatingLinearGradient: /^(\\-(webkit|o|ms|moz)\\-)?(repeating\\-linear\\-gradient)/i,\n    radialGradient: /^(\\-(webkit|o|ms|moz)\\-)?(radial\\-gradient)/i,\n    repeatingRadialGradient: /^(\\-(webkit|o|ms|moz)\\-)?(repeating\\-radial\\-gradient)/i,\n    sideOrCorner: /^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,\n    extentKeywords: /^(closest\\-side|closest\\-corner|farthest\\-side|farthest\\-corner|contain|cover)/,\n    positionKeywords: /^(left|center|right|top|bottom)/i,\n    pixelValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))px/,\n    percentageValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))\\%/,\n    emValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))em/,\n    angleValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))deg/,\n    startCall: /^\\(/,\n    endCall: /^\\)/,\n    comma: /^,/,\n    hexColor: /^\\#([0-9a-fA-F]+)/,\n    literalColor: /^([a-zA-Z]+)/,\n    rgbColor: /^rgb/i,\n    rgbaColor: /^rgba/i,\n    number: /^(([0-9]*\\.[0-9]+)|([0-9]+\\.?))/\n  };\n\n  var input = '';\n\n  function error(msg) {\n    var err = new Error(input + ': ' + msg);\n    err.source = input;\n    throw err;\n  }\n\n  function getAST() {\n    var ast = matchListDefinitions();\n\n    if (input.length > 0) {\n      error('Invalid input not EOF');\n    }\n\n    return ast;\n  }\n\n  function matchListDefinitions() {\n    return matchListing(matchDefinition);\n  }\n\n  function matchDefinition() {\n    return matchGradient(\n            'linear-gradient',\n            tokens.linearGradient,\n            matchLinearOrientation) ||\n\n          matchGradient(\n            'repeating-linear-gradient',\n            tokens.repeatingLinearGradient,\n            matchLinearOrientation) ||\n\n          matchGradient(\n            'radial-gradient',\n            tokens.radialGradient,\n            matchListRadialOrientations) ||\n\n          matchGradient(\n            'repeating-radial-gradient',\n            tokens.repeatingRadialGradient,\n            matchListRadialOrientations);\n  }\n\n  function matchGradient(gradientType, pattern, orientationMatcher) {\n    return matchCall(pattern, function(captures) {\n\n      var orientation = orientationMatcher();\n      if (orientation) {\n        if (!scan(tokens.comma)) {\n          error('Missing comma before color stops');\n        }\n      }\n\n      return {\n        type: gradientType,\n        orientation: orientation,\n        colorStops: matchListing(matchColorStop)\n      };\n    });\n  }\n\n  function matchCall(pattern, callback) {\n    var captures = scan(pattern);\n\n    if (captures) {\n      if (!scan(tokens.startCall)) {\n        error('Missing (');\n      }\n\n      var result = callback(captures);\n\n      if (!scan(tokens.endCall)) {\n        error('Missing )');\n      }\n\n      return result;\n    }\n  }\n\n  function matchLinearOrientation() {\n    return matchSideOrCorner() ||\n      matchAngle();\n  }\n\n  function matchSideOrCorner() {\n    return match('directional', tokens.sideOrCorner, 1);\n  }\n\n  function matchAngle() {\n    return match('angular', tokens.angleValue, 1);\n  }\n\n  function matchListRadialOrientations() {\n    var radialOrientations,\n        radialOrientation = matchRadialOrientation(),\n        lookaheadCache;\n\n    if (radialOrientation) {\n      radialOrientations = [];\n      radialOrientations.push(radialOrientation);\n\n      lookaheadCache = input;\n      if (scan(tokens.comma)) {\n        radialOrientation = matchRadialOrientation();\n        if (radialOrientation) {\n          radialOrientations.push(radialOrientation);\n        } else {\n          input = lookaheadCache;\n        }\n      }\n    }\n\n    return radialOrientations;\n  }\n\n  function matchRadialOrientation() {\n    var radialType = matchCircle() ||\n      matchEllipse();\n\n    if (radialType) {\n      radialType.at = matchAtPosition();\n    } else {\n      var extent = matchExtentKeyword();\n      if (extent) {\n        radialType = extent;\n        var positionAt = matchAtPosition();\n        if (positionAt) {\n          radialType.at = positionAt;\n        }\n      } else {\n        var defaultPosition = matchPositioning();\n        if (defaultPosition) {\n          radialType = {\n            type: 'default-radial',\n            at: defaultPosition\n          };\n        }\n      }\n    }\n\n    return radialType;\n  }\n\n  function matchCircle() {\n    var circle = match('shape', /^(circle)/i, 0);\n\n    if (circle) {\n      circle.style = matchLength() || matchExtentKeyword();\n    }\n\n    return circle;\n  }\n\n  function matchEllipse() {\n    var ellipse = match('shape', /^(ellipse)/i, 0);\n\n    if (ellipse) {\n      ellipse.style =  matchDistance() || matchExtentKeyword();\n    }\n\n    return ellipse;\n  }\n\n  function matchExtentKeyword() {\n    return match('extent-keyword', tokens.extentKeywords, 1);\n  }\n\n  function matchAtPosition() {\n    if (match('position', /^at/, 0)) {\n      var positioning = matchPositioning();\n\n      if (!positioning) {\n        error('Missing positioning value');\n      }\n\n      return positioning;\n    }\n  }\n\n  function matchPositioning() {\n    var location = matchCoordinates();\n\n    if (location.x || location.y) {\n      return {\n        type: 'position',\n        value: location\n      };\n    }\n  }\n\n  function matchCoordinates() {\n    return {\n      x: matchDistance(),\n      y: matchDistance()\n    };\n  }\n\n  function matchListing(matcher) {\n    var captures = matcher(),\n      result = [];\n\n    if (captures) {\n      result.push(captures);\n      while (scan(tokens.comma)) {\n        captures = matcher();\n        if (captures) {\n          result.push(captures);\n        } else {\n          error('One extra comma');\n        }\n      }\n    }\n\n    return result;\n  }\n\n  function matchColorStop() {\n    var color = matchColor();\n\n    if (!color) {\n      error('Expected color definition');\n    }\n\n    color.length = matchDistance();\n    return color;\n  }\n\n  function matchColor() {\n    return matchHexColor() ||\n      matchRGBAColor() ||\n      matchRGBColor() ||\n      matchLiteralColor();\n  }\n\n  function matchLiteralColor() {\n    return match('literal', tokens.literalColor, 0);\n  }\n\n  function matchHexColor() {\n    return match('hex', tokens.hexColor, 1);\n  }\n\n  function matchRGBColor() {\n    return matchCall(tokens.rgbColor, function() {\n      return  {\n        type: 'rgb',\n        value: matchListing(matchNumber)\n      };\n    });\n  }\n\n  function matchRGBAColor() {\n    return matchCall(tokens.rgbaColor, function() {\n      return  {\n        type: 'rgba',\n        value: matchListing(matchNumber)\n      };\n    });\n  }\n\n  function matchNumber() {\n    return scan(tokens.number)[1];\n  }\n\n  function matchDistance() {\n    return match('%', tokens.percentageValue, 1) ||\n      matchPositionKeyword() ||\n      matchLength();\n  }\n\n  function matchPositionKeyword() {\n    return match('position-keyword', tokens.positionKeywords, 1);\n  }\n\n  function matchLength() {\n    return match('px', tokens.pixelValue, 1) ||\n      match('em', tokens.emValue, 1);\n  }\n\n  function match(type, pattern, captureIndex) {\n    var captures = scan(pattern);\n    if (captures) {\n      return {\n        type: type,\n        value: captures[captureIndex]\n      };\n    }\n  }\n\n  function scan(regexp) {\n    var captures,\n        blankCaptures;\n\n    blankCaptures = /^[\\n\\r\\t\\s]+/.exec(input);\n    if (blankCaptures) {\n        consume(blankCaptures[0].length);\n    }\n\n    captures = regexp.exec(input);\n    if (captures) {\n        consume(captures[0].length);\n    }\n\n    return captures;\n  }\n\n  function consume(size) {\n    input = input.substr(size);\n  }\n\n  return function(code) {\n    input = code.toString();\n    return getAST();\n  };\n})();\n\nexports.parse = GradientParser.parse;\nexports.stringify = GradientParser.stringify;\n","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","/**\r\n * @module color-parse\r\n */\r\nimport names from 'color-name'\r\n\r\nexport default parse\r\n\r\n/**\r\n * Base hues\r\n * http://dev.w3.org/csswg/css-color/#typedef-named-hue\r\n */\r\n//FIXME: use external hue detector\r\nvar baseHues = {\r\n\tred: 0,\r\n\torange: 60,\r\n\tyellow: 120,\r\n\tgreen: 180,\r\n\tblue: 240,\r\n\tpurple: 300\r\n}\r\n\r\n/**\r\n * Parse color from the string passed\r\n *\r\n * @return {Object} A space indicator `space`, an array `values` and `alpha`\r\n */\r\nfunction parse (cstr) {\r\n\tvar m, parts = [], alpha = 1, space\r\n\r\n\tif (typeof cstr === 'string') {\r\n\t\t//keyword\r\n\t\tif (names[cstr]) {\r\n\t\t\tparts = names[cstr].slice()\r\n\t\t\tspace = 'rgb'\r\n\t\t}\r\n\r\n\t\t//reserved words\r\n\t\telse if (cstr === 'transparent') {\r\n\t\t\talpha = 0\r\n\t\t\tspace = 'rgb'\r\n\t\t\tparts = [0,0,0]\r\n\t\t}\r\n\r\n\t\t//hex\r\n\t\telse if (/^#[A-Fa-f0-9]+$/.test(cstr)) {\r\n\t\t\tvar base = cstr.slice(1)\r\n\t\t\tvar size = base.length\r\n\t\t\tvar isShort = size <= 4\r\n\t\t\talpha = 1\r\n\r\n\t\t\tif (isShort) {\r\n\t\t\t\tparts = [\r\n\t\t\t\t\tparseInt(base[0] + base[0], 16),\r\n\t\t\t\t\tparseInt(base[1] + base[1], 16),\r\n\t\t\t\t\tparseInt(base[2] + base[2], 16)\r\n\t\t\t\t]\r\n\t\t\t\tif (size === 4) {\r\n\t\t\t\t\talpha = parseInt(base[3] + base[3], 16) / 255\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tparts = [\r\n\t\t\t\t\tparseInt(base[0] + base[1], 16),\r\n\t\t\t\t\tparseInt(base[2] + base[3], 16),\r\n\t\t\t\t\tparseInt(base[4] + base[5], 16)\r\n\t\t\t\t]\r\n\t\t\t\tif (size === 8) {\r\n\t\t\t\t\talpha = parseInt(base[6] + base[7], 16) / 255\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!parts[0]) parts[0] = 0\r\n\t\t\tif (!parts[1]) parts[1] = 0\r\n\t\t\tif (!parts[2]) parts[2] = 0\r\n\r\n\t\t\tspace = 'rgb'\r\n\t\t}\r\n\r\n\t\t//color space\r\n\t\telse if (m = /^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\\s*\\(([^\\)]*)\\)/.exec(cstr)) {\r\n\t\t\tvar name = m[1]\r\n\t\t\tvar isRGB = name === 'rgb'\r\n\t\t\tvar base = name.replace(/a$/, '')\r\n\t\t\tspace = base\r\n\t\t\tvar size = base === 'cmyk' ? 4 : base === 'gray' ? 1 : 3\r\n\t\t\tparts = m[2].trim()\r\n\t\t\t\t.split(/\\s*[,\\/]\\s*|\\s+/)\r\n\t\t\t\t.map(function (x, i) {\r\n\t\t\t\t\t//<percentage>\r\n\t\t\t\t\tif (/%$/.test(x)) {\r\n\t\t\t\t\t\t//alpha\r\n\t\t\t\t\t\tif (i === size)\treturn parseFloat(x) / 100\r\n\t\t\t\t\t\t//rgb\r\n\t\t\t\t\t\tif (base === 'rgb') return parseFloat(x) * 255 / 100\r\n\t\t\t\t\t\treturn parseFloat(x)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//hue\r\n\t\t\t\t\telse if (base[i] === 'h') {\r\n\t\t\t\t\t\t//<deg>\r\n\t\t\t\t\t\tif (/deg$/.test(x)) {\r\n\t\t\t\t\t\t\treturn parseFloat(x)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//<base-hue>\r\n\t\t\t\t\t\telse if (baseHues[x] !== undefined) {\r\n\t\t\t\t\t\t\treturn baseHues[x]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn parseFloat(x)\r\n\t\t\t\t})\r\n\r\n\t\t\tif (name === base) parts.push(1)\r\n\t\t\talpha = (isRGB) ? 1 : (parts[size] === undefined) ? 1 : parts[size]\r\n\t\t\tparts = parts.slice(0, size)\r\n\t\t}\r\n\r\n\t\t//named channels case\r\n\t\telse if (cstr.length > 10 && /[0-9](?:\\s|\\/)/.test(cstr)) {\r\n\t\t\tparts = cstr.match(/([0-9]+)/g).map(function (value) {\r\n\t\t\t\treturn parseFloat(value)\r\n\t\t\t})\r\n\r\n\t\t\tspace = cstr.match(/([a-z])/ig).join('').toLowerCase()\r\n\t\t}\r\n\t}\r\n\r\n\t//numeric case\r\n\telse if (!isNaN(cstr)) {\r\n\t\tspace = 'rgb'\r\n\t\tparts = [cstr >>> 16, (cstr & 0x00ff00) >>> 8, cstr & 0x0000ff]\r\n\t}\r\n\r\n\t//array-like\r\n\telse if (Array.isArray(cstr) || cstr.length) {\r\n\t\tparts = [cstr[0], cstr[1], cstr[2]]\r\n\t\tspace = 'rgb'\r\n\t\talpha = cstr.length === 4 ? cstr[3] : 1\r\n\t}\r\n\r\n\t//object case - detects css cases of rgb and hsl\r\n\telse if (cstr instanceof Object) {\r\n\t\tif (cstr.r != null || cstr.red != null || cstr.R != null) {\r\n\t\t\tspace = 'rgb'\r\n\t\t\tparts = [\r\n\t\t\t\tcstr.r || cstr.red || cstr.R || 0,\r\n\t\t\t\tcstr.g || cstr.green || cstr.G || 0,\r\n\t\t\t\tcstr.b || cstr.blue || cstr.B || 0\r\n\t\t\t]\r\n\t\t}\r\n\t\telse {\r\n\t\t\tspace = 'hsl'\r\n\t\t\tparts = [\r\n\t\t\t\tcstr.h || cstr.hue || cstr.H || 0,\r\n\t\t\t\tcstr.s || cstr.saturation || cstr.S || 0,\r\n\t\t\t\tcstr.l || cstr.lightness || cstr.L || cstr.b || cstr.brightness\r\n\t\t\t]\r\n\t\t}\r\n\r\n\t\talpha = cstr.a || cstr.alpha || cstr.opacity || 1\r\n\r\n\t\tif (cstr.opacity != null) alpha /= 100\r\n\t}\r\n\r\n\treturn {\r\n\t\tspace: space,\r\n\t\tvalues: parts,\r\n\t\talpha: alpha\r\n\t}\r\n}\r\n","/**\r\n * RGB space.\r\n *\r\n * @module  color-space/rgb\r\n */\r\n\r\nexport default {\r\n\tname: 'rgb',\r\n\tmin: [0,0,0],\r\n\tmax: [255,255,255],\r\n\tchannel: ['red', 'green', 'blue'],\r\n\talias: ['RGB']\r\n};\r\n","/**\r\n * @module color-space/hsl\r\n */\r\nimport rgb from './rgb.js';\r\n\r\nexport default {\r\n\tname: 'hsl',\r\n\tmin: [0,0,0],\r\n\tmax: [360,100,100],\r\n\tchannel: ['hue', 'saturation', 'lightness'],\r\n\talias: ['HSL'],\r\n\r\n\trgb: function(hsl) {\r\n\t\tvar h = hsl[0] / 360,\r\n\t\t\t\ts = hsl[1] / 100,\r\n\t\t\t\tl = hsl[2] / 100,\r\n\t\t\t\tt1, t2, t3, rgb, val;\r\n\r\n\t\tif (s === 0) {\r\n\t\t\tval = l * 255;\r\n\t\t\treturn [val, val, val];\r\n\t\t}\r\n\r\n\t\tif (l < 0.5) {\r\n\t\t\tt2 = l * (1 + s);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tt2 = l + s - l * s;\r\n\t\t}\r\n\t\tt1 = 2 * l - t2;\r\n\r\n\t\trgb = [0, 0, 0];\r\n\t\tfor (var i = 0; i < 3; i++) {\r\n\t\t\tt3 = h + 1 / 3 * - (i - 1);\r\n\t\t\tif (t3 < 0) {\r\n\t\t\t\tt3++;\r\n\t\t\t}\r\n\t\t\telse if (t3 > 1) {\r\n\t\t\t\tt3--;\r\n\t\t\t}\r\n\r\n\t\t\tif (6 * t3 < 1) {\r\n\t\t\t\tval = t1 + (t2 - t1) * 6 * t3;\r\n\t\t\t}\r\n\t\t\telse if (2 * t3 < 1) {\r\n\t\t\t\tval = t2;\r\n\t\t\t}\r\n\t\t\telse if (3 * t3 < 2) {\r\n\t\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tval = t1;\r\n\t\t\t}\r\n\r\n\t\t\trgb[i] = val * 255;\r\n\t\t}\r\n\r\n\t\treturn rgb;\r\n\t}\r\n};\r\n\r\n\r\n//extend rgb\r\nrgb.hsl = function(rgb) {\r\n\tvar r = rgb[0]/255,\r\n\t\t\tg = rgb[1]/255,\r\n\t\t\tb = rgb[2]/255,\r\n\t\t\tmin = Math.min(r, g, b),\r\n\t\t\tmax = Math.max(r, g, b),\r\n\t\t\tdelta = max - min,\r\n\t\t\th, s, l;\r\n\r\n\tif (max === min) {\r\n\t\th = 0;\r\n\t}\r\n\telse if (r === max) {\r\n\t\th = (g - b) / delta;\r\n\t}\r\n\telse if (g === max) {\r\n\t\th = 2 + (b - r) / delta;\r\n\t}\r\n\telse if (b === max) {\r\n\t\th = 4 + (r - g)/ delta;\r\n\t}\r\n\r\n\th = Math.min(h * 60, 360);\r\n\r\n\tif (h < 0) {\r\n\t\th += 360;\r\n\t}\r\n\r\n\tl = (min + max) / 2;\r\n\r\n\tif (max === min) {\r\n\t\ts = 0;\r\n\t}\r\n\telse if (l <= 0.5) {\r\n\t\ts = delta / (max + min);\r\n\t}\r\n\telse {\r\n\t\ts = delta / (2 - max - min);\r\n\t}\r\n\r\n\treturn [h, s * 100, l * 100];\r\n};\r\n","/** @module  color-rgba */\r\nimport parse from 'color-parse'\r\nimport rgb from 'color-space/rgb.js'\r\nimport hsl from 'color-space/hsl.js'\r\n\r\nexport default function rgba (color) {\r\n\t// template literals\r\n\tif (Array.isArray(color) && color.raw) color = String.raw(...arguments)\r\n\r\n\tvar values, i, l\r\n\r\n\t//attempt to parse non-array arguments\r\n\tvar parsed = parse(color)\r\n\r\n\tif (!parsed.space) return []\r\n\r\n\tconst min = parsed.space[0] === 'h' ? hsl.min : rgb.min\r\n\tconst max = parsed.space[0] === 'h' ? hsl.max : rgb.max\r\n\r\n\tvalues = Array(3)\r\n\tvalues[0] = Math.min(Math.max(parsed.values[0], min[0]), max[0])\r\n\tvalues[1] = Math.min(Math.max(parsed.values[1], min[1]), max[1])\r\n\tvalues[2] = Math.min(Math.max(parsed.values[2], min[2]), max[2])\r\n\r\n\tif (parsed.space[0] === 'h') {\r\n\t\tvalues = hsl.rgb(values)\r\n\t}\r\n\r\n\tvalues.push(Math.min(Math.max(parsed.alpha, 0), 1))\r\n\r\n\treturn values\r\n}\r\n","// utils\nimport { utils } from '@pixi/core';\nimport { Color } from './ColorGradientFilter';\nimport rgba from 'color-rgba';\n\nexport function colorToNormalizedRgba(value: Color): number[] | Float32Array\n{\n    switch (typeof value)\n    {\n        case 'string':\n            return stringToNormalizedRgba(value);\n        case 'number':\n            return utils.hex2rgb(value);\n        default:\n            return value;\n    }\n}\n\nfunction stringToNormalizedRgba(value: string) : number[]\n{\n    const rgba_  = rgba(value);\n\n    if (!rgba_)\n    {\n        throw new Error(`Unable to parse color \"${value}\" as RGBA.`);\n    }\n\n    return [\n        rgba_[0] / 255,\n        rgba_[1] / 255,\n        rgba_[2] / 255,\n        rgba_[3]\n    ];\n}\n","import {\n    AngularNode,\n    ColorStop as CssColorStop,\n    DefaultRadialNode,\n    DirectionalNode,\n    ExtentKeywordNode,\n    GradientNode,\n    parse,\n    ShapeNode\n} from 'gradient-parser';\n\nimport { ColorStop } from './ColorGradientFilter';\nimport { colorToNormalizedRgba } from './utils';\n\nexport type ParseResult = {\n    type: number;\n    stops: ColorStop[];\n    angle: number;\n};\n\nexport function parseCssGradient(cssGradient: string): ParseResult\n{\n    const cssGradientNodes: GradientNode[] = parse(trimCssGradient(cssGradient));\n\n    if (cssGradientNodes.length === 0)\n    {\n        throw new Error('Invalid CSS gradient.');\n    }\n    else if (cssGradientNodes.length !== 1)\n    {\n        throw new Error('Unsupported CSS gradient (multiple gradients is not supported).');\n    }\n\n    const cssGradientNode = cssGradientNodes[0];\n\n    const type = typeFromCssType(cssGradientNode.type);\n    const stops = stopsFromCssStops(cssGradientNode.colorStops);\n    const angle = angleFromCssOrientation(cssGradientNode.orientation);\n\n    return {\n        type,\n        stops,\n        angle,\n    };\n}\n\nexport function typeFromCssType(type: string): number\n{\n    const supportedTypes: { [key: string]: number } = {\n        'linear-gradient': 0,\n        'radial-gradient': 1,\n    };\n\n    if (!(type in supportedTypes))\n    {\n        throw new Error(`Unsupported gradient type \"${type}\"`);\n    }\n\n    return supportedTypes[type];\n}\n\nexport function stopsFromCssStops(stops: CssColorStop[]): ColorStop[]\n{\n    const offsets: number[] = offsetsFromCssColorStops(stops);\n    const result: ColorStop[] = [];\n\n    for (let i = 0; i < stops.length; i++)\n    {\n        const rgbaColor = colorAsNormalizedRgbaFromCssStop(stops[i]);\n\n        result.push({\n            offset: offsets[i],\n            color: rgbaColor.slice(0, 3),\n            alpha: rgbaColor[3]\n        });\n    }\n\n    return result;\n}\n\nexport function colorAsNormalizedRgbaFromCssStop(stop: CssColorStop): number[] | Float32Array\n{\n    return colorToNormalizedRgba(colorAsStringFromCssStop(stop));\n}\n\nexport function colorAsStringFromCssStop(stop: CssColorStop): string\n{\n    switch (stop.type)\n    {\n        case 'hex':\n            return `#${stop.value}`;\n        case 'literal':\n            return stop.value;\n        default:\n            return `${stop.type}(${stop.value.join(',')})`;\n    }\n}\n\nexport function offsetsFromCssColorStops(stops: CssColorStop[]): number[]\n{\n    const offsets: number[] = [];\n    const dynamicOffset = -1;\n\n    for (let i = 0; i < stops.length; i++)\n    {\n        const cssStop = stops[i];\n        let stopOffset = dynamicOffset;\n\n        if (cssStop.type === 'literal')\n        {\n            if (cssStop.length && 'type' in cssStop.length && cssStop.length.type === '%' && 'value' in cssStop.length)\n            {\n                stopOffset = parseFloat(cssStop.length.value) / 100;\n            }\n        }\n\n        offsets.push(stopOffset);\n    }\n\n    const findNextFixedStop = (fromIndex: number): { indexDelta: number; offset: number; } =>\n    {\n        for (let k = fromIndex; k < offsets.length; k++)\n        {\n            if (offsets[k] !== dynamicOffset)\n            {\n                return {\n                    indexDelta: k - fromIndex,\n                    offset: offsets[k]\n                };\n            }\n        }\n\n        return {\n            indexDelta: (offsets.length - 1) - fromIndex,\n            offset: 1.0\n        };\n    };\n\n    let prevFixedOffset = 0;\n\n    for (let i = 0; i < offsets.length; i++)\n    {\n        const offset = offsets[i];\n\n        if (offset !== dynamicOffset)\n        {\n            prevFixedOffset = offset;\n        }\n        else if (i === 0)\n        {\n            offsets[i] = 0;\n        }\n        else if (i + 1 === offsets.length)\n        {\n            offsets[i] = 1.0;\n        }\n        else\n        {\n            const nextFixed = findNextFixedStop(i);\n            const offsetDelta = nextFixed.offset - prevFixedOffset;\n            const stepSize = offsetDelta / (1 + nextFixed.indexDelta);\n\n            for (let s = 0; s <= nextFixed.indexDelta; s++)\n            {\n                offsets[i + s] = prevFixedOffset + ((s + 1) * stepSize);\n            }\n\n            i += nextFixed.indexDelta;\n            prevFixedOffset = offsets[i];\n        }\n    }\n\n    return offsets.map(fixFloatRounding);\n}\n\n// fixes issues like 0.3 - 0.1 = 0.19999999999999998\nfunction fixFloatRounding(value: number): number\n{\n    const maxLength = 6;\n\n    if (value.toString().length > maxLength)\n    {\n        return parseFloat(value.toString().substring(0, maxLength));\n    }\n\n    return value;\n}\n\ntype CssOrientation = DirectionalNode | AngularNode | (ShapeNode | DefaultRadialNode | ExtentKeywordNode)[] | undefined;\n\nexport function angleFromCssOrientation(orientation: CssOrientation): number\n{\n    if (typeof orientation === 'undefined')\n    {\n        return 0;\n    }\n\n    if ('type' in orientation && 'value' in orientation)\n    {\n        switch (orientation.type)\n        {\n            case 'angular':\n                return parseFloat(orientation.value);\n            case 'directional':\n                return angleFromDirectionalValue(orientation.value);\n        }\n    }\n\n    return 0;\n}\n\nexport function angleFromDirectionalValue(value: string): number\n{\n    const supportedValues: { [key: string]: number } = {\n        left: 270,\n        top: 0,\n        bottom: 180,\n        right: 90,\n        'left top': 315,\n        'top left': 315,\n        'left bottom': 225,\n        'bottom left': 225,\n        'right top': 45,\n        'top right': 45,\n        'right bottom': 135,\n        'bottom right': 135,\n    };\n\n    if (!(value in supportedValues))\n    {\n        throw new Error(`Unsupported directional value \"${value}\"`);\n    }\n\n    return supportedValues[value];\n}\n\nexport function trimCssGradient(value: string) : string\n{\n    let value_ = value.replace(/\\s{2,}/gu, ' ');\n\n    value_ = value_.replace(/;/g, '');\n    value_ = value_.replace(/ ,/g, ',');\n    value_ = value_.replace(/\\( /g, '(');\n    value_ = value_.replace(/ \\)/g, ')');\n\n    return value_.trim();\n}\n","import fragment from './colorGradient.frag';\nimport vertex from './colorGradient.vert';\nimport { Filter } from '@pixi/core';\nimport { parseCssGradient } from './CssGradientParser';\nimport { colorToNormalizedRgba } from './utils';\n\nexport type Color = number | string | Float32Array | number[];\n\nexport type ColorStop = {\n    offset: number;\n    color: Color;\n    alpha: number;\n};\n\nexport type DefaultOptions = {\n    type: number;\n    stops: ColorStop[];\n    angle?: number;\n    alpha?: number;\n    maxColors?: number;\n};\n\nexport type CssOptions = {\n    css: string;\n    alpha?: number;\n    maxColors?: number;\n};\n\nconst ANGLE_OFFSET = 90; // align degrees with CSS\n\nfunction sortColorStops(stops: ColorStop[]): ColorStop[]\n{\n    return [...stops].sort((a, b) => a.offset - b.offset);\n}\n\n/**\n * Render a colored gradient.<br>\n * ![original](../tools/screenshots/dist/original.png)![filter](../tools/screenshots/dist/color-gradient.png)\n *\n * @class\n * @extends PIXI.Filter\n * @see {@link https://www.npmjs.com/package/@pixi/filter-color-gradient|@pixi/filter-color-gradient}\n * @see {@link https://www.npmjs.com/package/pixi-filters|pixi-filters}\n */\nclass ColorGradientFilter extends Filter\n{\n    /** Gradient types */\n    static readonly LINEAR = 0;\n    static readonly RADIAL = 1;\n    static readonly CONIC = 2;\n\n    /** Default constructor options */\n    public static readonly defaults: DefaultOptions = {\n        type: ColorGradientFilter.LINEAR,\n        stops: [\n            { offset: 0.0, color: 0xff0000, alpha: 1.0 },\n            { offset: 1.0, color: 0x0000ff, alpha: 1.0 },\n        ],\n        alpha: 1.0,\n        angle: 90.0,\n        maxColors: 0,\n    };\n\n    private _stops: ColorStop[] = [];\n\n    /**\n   * @param {DefaultOptions | CssOptions} [options]\n   * @param {number} [options.alpha=1.0] - Alpha value\n   * @param {number} [options.maxColors=0] - Maximum number of colors to render (0 = disabled)\n   */\n    constructor(options?: DefaultOptions | CssOptions)\n    {\n        if (options && 'css' in options)\n        {\n            options = {\n                ...parseCssGradient(options.css || ''),\n                alpha: options.alpha,\n                maxColors: options.maxColors,\n            };\n        }\n\n        const options_ = { ...ColorGradientFilter.defaults, ...options };\n\n        if (!options_.stops || options_.stops.length < 2)\n        {\n            throw new Error('ColorGradientFilter requires at least 2 color stops.');\n        }\n\n        super(vertex, fragment);\n        this.autoFit = false;\n\n        Object.assign(this, options_);\n    }\n\n    get stops(): ColorStop[]\n    {\n        return this._stops;\n    }\n\n    set stops(stops: ColorStop[])\n    {\n        const sortedStops = sortColorStops(stops);\n\n        const colors = new Float32Array(sortedStops.length * 3);\n        const R = 0;\n        const G = 1;\n        const B = 2;\n\n        for (let i = 0; i < sortedStops.length; i++)\n        {\n            const color = colorToNormalizedRgba(sortedStops[i].color);\n            const indexStart = i * 3;\n\n            colors[indexStart + R] = color[R];\n            colors[indexStart + G] = color[G];\n            colors[indexStart + B] = color[B];\n        }\n\n        this.uniforms.uColors = colors;\n        this.uniforms.uOffsets = sortedStops.map((s) => s.offset);\n        this.uniforms.uAlphas = sortedStops.map((s) => s.alpha);\n        this.uniforms.uNumStops = sortedStops.length;\n        this._stops = sortedStops;\n    }\n\n    /**\n   * The type of gradient\n   * @default ColorGradientFilter.LINEAR\n   */\n    set type(value: number)\n    {\n        this.uniforms.uType = value;\n    }\n\n    get type(): number\n    {\n        return this.uniforms.uType;\n    }\n\n    /**\n   * The angle of the gradient in degrees\n   * @default 90\n   */\n    set angle(value: number)\n    {\n        this.uniforms.uAngle = value - ANGLE_OFFSET;\n    }\n\n    get angle(): number\n    {\n        return this.uniforms.uAngle + ANGLE_OFFSET;\n    }\n\n    /**\n   * The alpha value of the gradient (0-1)\n   * @default 1\n   */\n    set alpha(value: number)\n    {\n        this.uniforms.uAlpha = value;\n    }\n\n    get alpha(): number\n    {\n        return this.uniforms.uAlpha;\n    }\n\n    /**\n   * The maximum number of colors to render (0 = no limit)\n   * @default 0\n   */\n    set maxColors(value: number)\n    {\n        this.uniforms.uMaxColors = value;\n    }\n\n    get maxColors(): number\n    {\n        return this.uniforms.uMaxColors;\n    }\n}\n\nexport { ColorGradientFilter };\n\n"],"names":["GradientParser","visitor","node","orientation","result","at","style","resultColor","length","elements","size","element","nodeVisitor","root","tokens","input","error","msg","err","getAST","ast","matchListDefinitions","matchListing","matchDefinition","matchGradient","matchLinearOrientation","matchListRadialOrientations","gradientType","pattern","orientationMatcher","matchCall","captures","scan","matchColorStop","callback","matchSideOrCorner","matchAngle","match","radialOrientations","radialOrientation","matchRadialOrientation","lookaheadCache","radialType","matchCircle","matchEllipse","matchAtPosition","extent","matchExtentKeyword","positionAt","defaultPosition","matchPositioning","circle","matchLength","ellipse","matchDistance","positioning","location","matchCoordinates","matcher","color","matchColor","matchHexColor","matchRGBAColor","matchRGBColor","matchLiteralColor","matchNumber","matchPositionKeyword","type","captureIndex","regexp","blankCaptures","consume","code","parse","colorName","baseHues","cstr","m","parts","alpha","space","names","base","isShort","name","isRGB","x","i","value","rgb","hsl","h","s","l","t1","t2","t3","val","r","g","b","min","max","delta","rgba","values","parsed","colorToNormalizedRgba","stringToNormalizedRgba","utils","rgba_","parseCssGradient","cssGradient","cssGradientNodes","trimCssGradient","cssGradientNode","typeFromCssType","stops","stopsFromCssStops","angle","angleFromCssOrientation","supportedTypes","offsets","offsetsFromCssColorStops","rgbaColor","colorAsNormalizedRgbaFromCssStop","stop","colorAsStringFromCssStop","cssStop","stopOffset","findNextFixedStop","fromIndex","k","prevFixedOffset","offset","nextFixed","stepSize","fixFloatRounding","angleFromDirectionalValue","supportedValues","value_","y","A","c","S","O","o","C","ANGLE_OFFSET","sortColorStops","a","_ColorGradientFilter","Filter","options","__spreadProps","__spreadValues","options_","vertex","fragment","sortedStops","colors","R","G","B","indexStart","ColorGradientFilter"],"mappings":"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"}